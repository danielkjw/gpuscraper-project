/*!
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */
!function(e){var t="ResizeSensor";if("function"!=typeof ccs_define){var n=e();void 0!==n&&(window[t]=n)}else ccs_define(t,[],e)}(function(){if("undefined"==typeof window)return null;var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function r(e,t){var n=Object.prototype.toString.call(e),i="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,r=0,s=e.length;if(i)for(;r<s;r++)t(e[r]);else t(e)}function E(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}var s=function(t,n){function z(){var n,i,r=[];this.add=function(e){r.push(e)},this.call=function(e){for(n=0,i=r.length;n<i;n++)r[n].call(this,e)},this.remove=function(e){var t=[];for(n=0,i=r.length;n<i;n++)r[n]!==e&&t.push(r[n]);r=t},this.length=function(){return r.length}}function i(n,e){if(n)if(n.resizedAttached)n.resizedAttached.add(e);else{n.resizedAttached=new z,n.resizedAttached.add(e),n.resizeSensor=document.createElement("div"),n.resizeSensor.dir="ltr",n.resizeSensor.className="resize-sensor";var t="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",i="position: absolute; left: 0; top: 0; transition: 0s;";n.resizeSensor.style.cssText=t,n.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+t+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+t+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',n.appendChild(n.resizeSensor);var r=window.getComputedStyle(n),s=r?r.getPropertyValue("position"):null;"absolute"!==s&&"relative"!==s&&"fixed"!==s&&(n.style.position="relative");var o,d,a=n.resizeSensor.childNodes[0],l=a.childNodes[0],u=n.resizeSensor.childNodes[1],c=E(n),h=c.width,f=c.height,m=!0,v=0,p=function(){if(m){if(0===n.offsetWidth&&0===n.offsetHeight)return void(v||(v=b(function(){v=0,p()})));m=!1}!function(){var e=n.offsetWidth,t=n.offsetHeight;l.style.width=e+10+"px",l.style.height=t+10+"px",a.scrollLeft=e+10,a.scrollTop=t+10,u.scrollLeft=e+10,u.scrollTop=t+10}()};n.resizeSensor.resetSensor=p;var g=document.createEvent("Event");g.initEvent("ccsResize",!0,!1);var y=function(){d=0,o&&(h=c.width,f=c.height,n.resizedAttached&&n.resizedAttached.call(c))},w=function(){c=E(n),(o=c.width!==h||c.height!==f)&&!d&&(d=b(y)),p(),n.dispatchEvent(g)},S=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};S(a,"scroll",w),S(u,"scroll",w),b(p)}}r(t,function(e){i(e,n)}),this.detach=function(e){s.detach(t,e)},this.reset=function(){t.resizeSensor.resetSensor()}};if(s.reset=function(e){r(e,function(e){e.resizeSensor.resetSensor()})},s.detach=function(e,t){r(e,function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},"undefined"!=typeof MutationObserver){var t=new MutationObserver(function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,i=0;i<n.length;i++)n[i].resizeSensor&&s.reset(n[i])});document.addEventListener("DOMContentLoaded",function(e){t.observe(document.body,{childList:!0,subtree:!0})})}return s}),
/*!
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */
function(e){var t="ElementQueries";if("function"!=typeof ccs_define){var n=e();void 0!==n&&(window[t]=n)}else ccs_define(t,["ResizeSensor"],e)}(function(p){var n=this.CcsElementQueries=function(){var c,m={},h=[];function o(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}
/*!
				*
				* @copyright https://github.com/Mr0grog/element-query/blob/master/LICENSE
				*
				* @param {HTMLElement} element
				* @param {*} value
				* @returns {*}
				*/
function v(e,t){var n=t.split(/\d/),i=n[n.length-1];switch(t=parseFloat(t),i){case"px":return t;case"em":return t*o(e);case"rem":return t*o();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var r=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===i?"min":"max"])(r,s);default:return t}}function n(e,n){var i,r,s,o,d,a,l,u,c;this.element=e;var h=["min-width","min-height","max-width","max-height"],f=document.createEvent("Event");f.initEvent("ccsBreakpointFired",!0,!1),this.call=function(){for(i in s=function(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}(this.element),a={},c={},m[n])m[n].hasOwnProperty(i)&&(r=m[n][i],o=v(this.element,r.value),d="width"===r.property?s.width:s.height,u=r.mode+"-"+r.property,l="","min"===r.mode&&o<=d&&(l+=r.value),"max"===r.mode&&d<=o&&(l+=r.value),a[u]||(a[u]=""),l&&-1===(" "+a[u]+" ").indexOf(" "+l+" ")&&(a[u]+=" "+l));for(var e in h)if(h.hasOwnProperty(e))if(a[h[e]]){var t=this.element.getAttribute(h[e]);this.element.setAttribute(h[e],a[h[e]].substr(1)),c[h[e]]=a[h[e]].substr(1),t!==a[h[e]].substr(1)&&this.element.dispatchEvent(f)}else this.element.removeAttribute(h[e]),this.element.hasAttribute(h[e])&&this.element.dispatchEvent(f)}}function d(e,t){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new n(e,t)),e.elementQueriesSensor||(e.elementQueriesSensor=new p(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call()}function a(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function i(i){var r=[],s=[],o=[],d=0,a=-1,l=[];for(var e in i.children)if(i.children.hasOwnProperty(e)&&i.children[e].tagName&&"img"===i.children[e].tagName.toLowerCase()){r.push(i.children[e]);var t=i.children[e].getAttribute("min-width")||i.children[e].getAttribute("data-min-width"),n=i.children[e].getAttribute("data-src")||i.children[e].getAttribute("url");o.push(n);var u={minWidth:t};s.push(u),t?i.children[e].style.display="none":(d=r.length-1,i.children[e].style.display="block")}function c(){var e,t=!1;for(e in r)r.hasOwnProperty(e)&&s[e].minWidth&&i.offsetWidth>s[e].minWidth&&(t=e);if(t||(t=d),a!==t)if(l[t])r[a].style.display="none",r[t].style.display="block",a=t;else{var n=new Image;n.onload=function(){r[t].src=o[t],r[a].style.display="none",r[t].style.display="block",l[t]=!0,a=t},n.src=o[t]}else r[t].src=o[t]}a=d,i.resizeSensor=new p(i,c),c()}this.setup=function(e,t){if(t&&Object.keys(t).length){if(void 0===m[e]){m[e]=[];var n=h.length;c.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",c.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+n+"px;}",h.push(e)}for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(0!==r.length)for(var s=i.split("-"),o=s[0],d=s[1],a=0;a<r.length;a++){var l=r[a];u=l,!isNaN(parseFloat(u))&&isFinite(u)&&(l+="px"),m[e].push({mode:o,property:d,value:l})}}var u}};var s=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,l=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function r(e){var t,n,i,r;for(e=e.replace(/'/g,'"');null!==(t=s.exec(e));)for(n=t[1]+t[3],i=t[2];null!==(r=l.exec(i));)ElementQuery.instance.setup(n,r[1],r[2],r[3])}function u(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||r(e);else for(var n=0,i=e.length;n<i;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?r(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||r(t):4===e[n].type?u(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&u(e[n].styleSheet.cssRules)}var f=!1;this.init=function(){var e="animationstart";void 0!==document.documentElement.style.webkitAnimationName?e="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?e="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(e="oanimationstart"),document.body.addEventListener(e,function(e){var t=e.target;if(-1!==window.getComputedStyle(t,null).getPropertyValue("animation-name").indexOf("element-queries")){t.elementQueriesSensor=new p(t,function(){t.elementQueriesSetupInformation&&t.elementQueriesSetupInformation.call()});var n=window.getComputedStyle(t.resizeSensor,null).getPropertyValue("min-width");n=parseInt(n.replace("px","")),d(e.target,h[n])}}),f||((c=document.createElement("style")).type="text/css",c.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",c.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(c),f=!0);for(var t=0,n=document.styleSheets.length;t<n;t++)try{document.styleSheets[t].href&&0===document.styleSheets[t].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[t].href),u(document.styleSheets[t].cssRules||document.styleSheets[t].rules||document.styleSheets[t].cssText)}catch(e){}!function(){for(var e=a()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)i(e[t])}()},this.findElementQueriesElements=function(e){!function(e){var t=a(e);for(var n in m)if(m.hasOwnProperty(mode))for(var i=t(n,e),r=0,s=i.length;r<s;r++)d(i[r],n)}(e)},this.update=function(){this.init()}};n.update=function(){n.instance.update()},n.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},n.init=function(e,t){n.instance||(n.instance=new n,n.instance.init()),n.instance.setup(e,t)};return n.findElementQueriesElements=function(e){n.instance.findElementQueriesElements(e)},n.listen=function(){!function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e}(n.init)},n});
//# sourceMappingURL=element-queries.min.js.map
