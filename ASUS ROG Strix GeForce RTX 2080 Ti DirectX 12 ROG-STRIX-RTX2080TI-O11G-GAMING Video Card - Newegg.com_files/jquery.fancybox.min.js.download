// ==================================================
// fancyBox v3.5.7
//
// Licensed GPLv3 for open source use
// or fancyBox Commercial License for commercial use
//
// http://fancyapps.com/fancybox/
// Copyright 2019 fancyApps
//
// ==================================================
!function(factory){if("function"!=typeof ccs_define){var moduleExport=factory(window.ccsJq);void 0!==moduleExport&&(window.Fancybox=moduleExport)}else ccs_define("Fancybox",["jquery"],factory)}(function(ccsJq){!function(window,document,$,undefined){"use strict";if(window.console=window.console||{info:function(stuff){}},$)if($.fn.fancybox)console.info("fancyBox already initialized");else{var div,buttonStr,focusStr,$pressed,defaults={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,isRtl:!1,smallBtn:"auto",toolbar:"auto",buttons:["close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="ccs-fancybox-frame{rnd}" name="ccs-fancybox-frame{rnd}" class="ccs-fancybox-iframe" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="ccs-fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!1},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="ccs-fancybox-container" role="dialog" tabindex="-1"><div class="ccs-fancybox-bg"></div><div class="ccs-fancybox-inner"><div class="ccs-fancybox-infobar"><span data-ccs-fancybox-index></span>&nbsp;/&nbsp;<span data-ccs-fancybox-count></span></div><div class="ccs-fancybox-toolbar">{{buttons}}</div><div class="ccs-fancybox-navigation">{{arrows}}</div><div class="ccs-fancybox-stage"></div><div class="ccs-fancybox-caption"><div class="ccs-fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="ccs-fancybox-loading"></div>',errorTpl:'<div class="ccs-fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-ccs-fancybox-download class="ccs-fancybox-button ccs-fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-ccs-fancybox-zoom class="ccs-fancybox-button ccs-fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-ccs-fancybox-close class="ccs-fancybox-button ccs-fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-ccs-fancybox-prev class="ccs-fancybox-button ccs-fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-ccs-fancybox-next class="ccs-fancybox-button ccs-fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-ccs-fancybox-close class="ccs-fancybox-button ccs-fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".ccs-fancybox-container",axis:"y"},wheel:"auto",onInit:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeClose:$.noop,afterClose:$.noop,onActivate:$.noop,onDeactivate:$.noop,clickContent:function(current,event){return"image"===current.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(current,event){return"image"===current.type&&"toggleControls"},clickSlide:function(current,event){return"image"===current.type?"toggleControls":"close"},dblclickContent:function(current,event){return"image"===current.type&&"zoom"},dblclickSlide:function(current,event){return"image"===current.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},$W=$(window),$D=$(document),called=0,requestAFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)},cancelAFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)},transitionEnd=function(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t];return"transitionend"}(),forceRedraw=function($el){return $el&&$el.length&&$el[0].offsetHeight},mergeOpts=function(opts1,opts2){var rez=$.extend(!0,{},opts1,opts2);return $.each(opts2,function(key,value){$.isArray(value)&&(rez[key]=value)}),rez},FancyBox=function(content,opts,index){this.opts=mergeOpts({index:index},$.fancybox.defaults),$.isPlainObject(opts)&&(this.opts=mergeOpts(this.opts,opts)),$.fancybox.isMobile&&(this.opts=mergeOpts(this.opts,this.opts.mobile)),this.id=this.opts.id||++called,this.currIndex=parseInt(this.opts.index,10)||0,this.prevIndex=null,this.prevPos=null,this.currPos=0,this.firstRun=!0,this.group=[],this.slides={},this.addContent(content),this.group.length&&(this.$lastFocus=$(document.activeElement).trigger("blur"),this.init())};$.extend(FancyBox.prototype,{init:function(){var $container,buttonStr,self=this,firstItemOpts=self.group[self.currIndex].opts;firstItemOpts.closeExisting&&$.fancybox.close(!0),$("body").addClass("ccs-fancybox-active"),!$.fancybox.getInstance()&&!1!==firstItemOpts.hideScrollbar&&!$.fancybox.isMobile&&document.body.scrollHeight>window.innerHeight&&($("head").append('<style id="ccs-fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(window.innerWidth-document.documentElement.clientWidth)+"px;}</style>"),$("body").addClass("compensate-for-scrollbar")),buttonStr="",$.each(firstItemOpts.buttons,function(index,value){buttonStr+=firstItemOpts.btnTpl[value]||""}),$container=$(self.translate(self,firstItemOpts.baseTpl.replace("{{buttons}}",buttonStr).replace("{{arrows}}",firstItemOpts.btnTpl.arrowLeft+firstItemOpts.btnTpl.arrowRight))).attr("id","ccs-fancybox-container-"+self.id).addClass(firstItemOpts.baseClass).data("FancyBox",self).appendTo(firstItemOpts.parentEl),self.$refs={container:$container},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(item){self.$refs[item]=$container.find(".ccs-fancybox-"+item)}),self.trigger("onInit"),self.activate(),self.jumpTo(self.currIndex)},translate:function(obj,str){var arr=obj.opts.i18n[obj.opts.lang]||obj.opts.i18n.en;return str.replace(/\{\{(\w+)\}\}/g,function(match,n){return void 0===arr[n]?match:arr[n]})},addContent:function(content){var thumbs,self=this,items=$.makeArray(content);$.each(items,function(i,item){var $item,type,found,src,srcParts,obj={},opts={};$.isPlainObject(item)?opts=(obj=item).opts||item:"object"===$.type(item)&&$(item).length?(opts=($item=$(item)).data()||{},(opts=$.extend(!0,{},opts,opts.options)).$orig=$item,obj.src=self.opts.src||opts.src||$item.attr("href"),obj.type||obj.src||(obj.type="inline",obj.src=item)):obj={type:"html",src:item+""},obj.opts=$.extend(!0,{},self.opts,opts),$.isArray(opts.buttons)&&(obj.opts.buttons=opts.buttons),$.fancybox.isMobile&&obj.opts.mobile&&(obj.opts=mergeOpts(obj.opts,obj.opts.mobile)),type=obj.type||obj.opts.type,src=obj.src||"",!type&&src&&((found=src.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(type="video",obj.opts.video.format||(obj.opts.video.format="video/"+("ogv"===found[1]?"ogg":found[1]))):src.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?type="image":src.match(/\.(pdf)((\?|#).*)?$/i)?(type="iframe",obj=$.extend(!0,obj,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===src.charAt(0)&&(type="inline")),type?obj.type=type:self.trigger("objectNeedsType",obj),obj.contentType||(obj.contentType=-1<$.inArray(obj.type,["html","inline","ajax"])?"html":obj.type),obj.index=self.group.length,"auto"==obj.opts.smallBtn&&(obj.opts.smallBtn=-1<$.inArray(obj.type,["html","inline","ajax"])),"auto"===obj.opts.toolbar&&(obj.opts.toolbar=!obj.opts.smallBtn),obj.$thumb=obj.opts.$thumb||null,obj.opts.$trigger&&obj.index===self.opts.index&&(obj.$thumb=obj.opts.$trigger.find("img:first"),obj.$thumb.length&&(obj.opts.$orig=obj.opts.$trigger)),obj.$thumb&&obj.$thumb.length||!obj.opts.$orig||(obj.$thumb=obj.opts.$orig.find("img:first")),obj.$thumb&&!obj.$thumb.length&&(obj.$thumb=null),obj.thumb=obj.opts.thumb||(obj.$thumb?obj.$thumb[0].src:null),"function"===$.type(obj.opts.caption)&&(obj.opts.caption=obj.opts.caption.apply(item,[self,obj])),"function"===$.type(self.opts.caption)&&(obj.opts.caption=self.opts.caption.apply(item,[self,obj])),obj.opts.caption instanceof $||(obj.opts.caption=void 0===obj.opts.caption?"":obj.opts.caption+""),"ajax"===obj.type&&1<(srcParts=src.split(/\s+/,2)).length&&(obj.src=srcParts.shift(),obj.opts.filter=srcParts.shift()),obj.opts.modal&&(obj.opts=$.extend(!0,obj.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),self.group.push(obj)}),Object.keys(self.slides).length&&(self.updateControls(),(thumbs=self.Thumbs)&&thumbs.isActive&&(thumbs.create(),thumbs.focus()))},addEvents:function(){var self=this;self.removeEvents(),self.$refs.container.on("click.ccs-fb-close","[data-ccs-fancybox-close]",function(e){e.stopPropagation(),e.preventDefault(),self.close(e)}).on("touchstart.ccs-fb-prev click.ccs-fb-prev","[data-ccs-fancybox-prev]",function(e){e.stopPropagation(),e.preventDefault(),self.previous()}).on("touchstart.ccs-fb-next click.ccs-fb-next","[data-ccs-fancybox-next]",function(e){e.stopPropagation(),e.preventDefault(),self.next()}).on("click.ccs-fb","[data-ccs-fancybox-zoom]",function(e){self[self.isScaledDown()?"scaleToActual":"scaleToFit"]()}),$W.on("orientationchange.ccs-fb resize.ccs-fb",function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?(self.requestId&&cancelAFrame(self.requestId),self.requestId=requestAFrame(function(){self.update(e)})):(self.current&&"iframe"===self.current.type&&self.$refs.stage.hide(),setTimeout(function(){self.$refs.stage.show(),self.update(e)},$.fancybox.isMobile?600:250))}),$D.on("keydown.ccs-fb",function(e){var current=($.fancybox?$.fancybox.getInstance():null).current,keycode=e.keyCode||e.which;if(9!=keycode){if(!(!current.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||$(e.target).is("input,textarea,video,audio,select")))return 8===keycode||27===keycode?(e.preventDefault(),void self.close(e)):37===keycode||38===keycode?(e.preventDefault(),void(self.opts.isRtl?self.next():self.previous())):39===keycode||40===keycode?(e.preventDefault(),void(self.opts.isRtl?self.previous():self.next())):void self.trigger("afterKeydown",e,keycode)}else current.opts.trapFocus&&self.focus(e)}),self.group[self.currIndex].opts.idleTime&&(self.idleSecondsCounter=0,$D.on("mousemove.ccs-fb-idle mouseleave.ccs-fb-idle mousedown.ccs-fb-idle touchstart.ccs-fb-idle touchmove.ccs-fb-idle scroll.ccs-fb-idle keydown.ccs-fb-idle",function(e){self.idleSecondsCounter=0,self.isIdle&&self.showControls(),self.isIdle=!1}),self.idleInterval=window.setInterval(function(){self.idleSecondsCounter++,self.idleSecondsCounter>=self.group[self.currIndex].opts.idleTime&&!self.isDragging&&(self.isIdle=!0,self.idleSecondsCounter=0,self.hideControls())},1e3))},removeEvents:function(){$W.off("orientationchange.ccs-fb resize.ccs-fb"),$D.off("keydown.ccs-fb .ccs-fb-idle"),this.$refs.container.off(".ccs-fb-close .ccs-fb-prev .ccs-fb-next"),this.idleInterval&&(window.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(duration){return this.jumpTo(this.currPos-1,duration)},next:function(duration){return this.jumpTo(this.currPos+1,duration)},jumpTo:function(pos,duration){var firstRun,isMoved,loop,current,previous,slidePos,stagePos,prop,diff,self=this,groupLen=self.group.length;if(!(self.isDragging||self.isClosing||self.isAnimating&&self.firstRun)){if(pos=parseInt(pos,10),!(loop=self.current?self.current.opts.loop:self.opts.loop)&&(pos<0||groupLen<=pos))return!1;if(firstRun=self.firstRun=!Object.keys(self.slides).length,previous=self.current,self.prevIndex=self.currIndex,self.prevPos=self.currPos,current=self.createSlide(pos),1<groupLen&&((loop||current.index<groupLen-1)&&self.createSlide(pos+1),(loop||0<current.index)&&self.createSlide(pos-1)),self.current=current,self.currIndex=current.index,self.currPos=current.pos,self.trigger("beforeShow",firstRun),self.updateControls(),current.forcedDuration=void 0,$.isNumeric(duration)?current.forcedDuration=duration:duration=current.opts[firstRun?"animationDuration":"transitionDuration"],duration=parseInt(duration,10),isMoved=self.isMoved(current),current.$slide.addClass("ccs-fancybox-slide--current"),firstRun)return current.opts.animationEffect&&duration&&self.$refs.container.css("transition-duration",duration+"ms"),self.$refs.container.addClass("ccs-fancybox-is-open").trigger("focus"),$.fancybox.isMobile&&self.$refs.container.addClass("ccs-fancybox-mobile"),self.loadSlide(current),void self.preload("image");slidePos=$.fancybox.getTranslate(previous.$slide),stagePos=$.fancybox.getTranslate(self.$refs.stage),$.each(self.slides,function(index,slide){$.fancybox.stop(slide.$slide,!0)}),previous.pos!==current.pos&&(previous.isComplete=!1),previous.$slide.removeClass("ccs-fancybox-slide--complete ccs-fancybox-slide--current"),isMoved?(diff=slidePos.left-(previous.pos*slidePos.width+previous.pos*previous.opts.gutter),$.each(self.slides,function(index,slide){slide.$slide.removeClass("ccs-fancybox-animated").removeClass(function(index,className){return(className.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var leftPos=slide.pos*slidePos.width+slide.pos*slide.opts.gutter;$.fancybox.setTranslate(slide.$slide,{top:0,left:leftPos-stagePos.left+diff}),slide.pos!==current.pos&&slide.$slide.addClass("ccs-fancybox-slide--"+(slide.pos>current.pos?"next":"previous")),forceRedraw(slide.$slide),$.fancybox.animate(slide.$slide,{top:0,left:(slide.pos-current.pos)*slidePos.width+(slide.pos-current.pos)*slide.opts.gutter},duration,function(){slide.$slide.css({transform:"",opacity:""}).removeClass("ccs-fancybox-slide--next ccs-fancybox-slide--previous"),slide.pos===self.currPos&&self.complete()})})):duration&&current.opts.transitionEffect&&(prop="ccs-fancybox-animated ccs-fancybox-fx-"+current.opts.transitionEffect,previous.$slide.addClass("ccs-fancybox-slide--"+(previous.pos>current.pos?"next":"previous")),$.fancybox.animate(previous.$slide,prop,duration,function(){previous.$slide.removeClass(prop).removeClass("ccs-fancybox-slide--next ccs-fancybox-slide--previous")},!1)),current.isLoaded?self.revealContent(current):self.loadSlide(current),self.preload("image")}},createSlide:function(pos){var $slide,index;return index=(index=pos%this.group.length)<0?this.group.length+index:index,!this.slides[pos]&&this.group[index]&&($slide=$('<div class="ccs-fancybox-slide"></div>').appendTo(this.$refs.stage),this.slides[pos]=$.extend(!0,{},this.group[index],{pos:pos,$slide:$slide,isLoaded:!1}),this.updateSlide(this.slides[pos])),this.slides[pos]},scaleToActual:function(x,y,duration){var imgPos,posX,posY,scaleX,scaleY,self=this,current=self.current,$content=current.$content,canvasWidth=$.fancybox.getTranslate(current.$slide).width,canvasHeight=$.fancybox.getTranslate(current.$slide).height,newImgWidth=current.width,newImgHeight=current.height;self.isAnimating||self.isMoved()||!$content||"image"!=current.type||!current.isLoaded||current.hasError||(self.isAnimating=!0,$.fancybox.stop($content),x=void 0===x?.5*canvasWidth:x,y=void 0===y?.5*canvasHeight:y,(imgPos=$.fancybox.getTranslate($content)).top-=$.fancybox.getTranslate(current.$slide).top,imgPos.left-=$.fancybox.getTranslate(current.$slide).left,scaleX=newImgWidth/imgPos.width,scaleY=newImgHeight/imgPos.height,posX=.5*canvasWidth-.5*newImgWidth,posY=.5*canvasHeight-.5*newImgHeight,canvasWidth<newImgWidth&&(0<(posX=imgPos.left*scaleX-(x*scaleX-x))&&(posX=0),posX<canvasWidth-newImgWidth&&(posX=canvasWidth-newImgWidth)),canvasHeight<newImgHeight&&(0<(posY=imgPos.top*scaleY-(y*scaleY-y))&&(posY=0),posY<canvasHeight-newImgHeight&&(posY=canvasHeight-newImgHeight)),self.updateCursor(newImgWidth,newImgHeight),$.fancybox.animate($content,{top:posY,left:posX,scaleX:scaleX,scaleY:scaleY},duration||366,function(){self.isAnimating=!1}),self.SlideShow&&self.SlideShow.isActive&&self.SlideShow.stop())},scaleToFit:function(duration){var end,self=this,current=self.current,$content=current.$content;self.isAnimating||self.isMoved()||!$content||"image"!=current.type||!current.isLoaded||current.hasError||(self.isAnimating=!0,$.fancybox.stop($content),end=self.getFitPos(current),self.updateCursor(end.width,end.height),$.fancybox.animate($content,{top:end.top,left:end.left,scaleX:end.width/$content.width(),scaleY:end.height/$content.height()},duration||366,function(){self.isAnimating=!1}))},getFitPos:function(slide){var maxWidth,maxHeight,minRatio,aspectRatio,$content=slide.$content,$slide=slide.$slide,width=slide.width||slide.opts.width,height=slide.height||slide.opts.height,rez={};return!!(slide.isLoaded&&$content&&$content.length)&&(maxWidth=$.fancybox.getTranslate(this.$refs.stage).width,maxHeight=$.fancybox.getTranslate(this.$refs.stage).height,maxWidth-=parseFloat($slide.css("paddingLeft"))+parseFloat($slide.css("paddingRight"))+parseFloat($content.css("marginLeft"))+parseFloat($content.css("marginRight")),maxHeight-=parseFloat($slide.css("paddingTop"))+parseFloat($slide.css("paddingBottom"))+parseFloat($content.css("marginTop"))+parseFloat($content.css("marginBottom")),width&&height||(width=maxWidth,height=maxHeight),maxWidth-.5<(width*=minRatio=Math.min(1,maxWidth/width,maxHeight/height))&&(width=maxWidth),maxHeight-.5<(height*=minRatio)&&(height=maxHeight),"image"===slide.type?(rez.top=Math.floor(.5*(maxHeight-height))+parseFloat($slide.css("paddingTop")),rez.left=Math.floor(.5*(maxWidth-width))+parseFloat($slide.css("paddingLeft"))):"video"===slide.contentType&&(width/(aspectRatio=slide.opts.width&&slide.opts.height?width/height:slide.opts.ratio||16/9)<height?height=width/aspectRatio:height*aspectRatio<width&&(width=height*aspectRatio)),rez.width=width,rez.height=height,rez)},update:function(e){var self=this;$.each(self.slides,function(key,slide){self.updateSlide(slide,e)})},updateSlide:function(slide,e){var $content=slide&&slide.$content,width=slide.width||slide.opts.width,height=slide.height||slide.opts.height,$slide=slide.$slide;this.adjustCaption(slide),$content&&(width||height||"video"===slide.contentType)&&!slide.hasError&&($.fancybox.stop($content),$.fancybox.setTranslate($content,this.getFitPos(slide)),slide.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor())),this.adjustLayout(slide),$slide.length&&($slide.trigger("refresh"),slide.pos===this.currPos&&this.$refs.toolbar.add(this.$refs.navigation.find(".ccs-fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",$slide.get(0).scrollHeight>$slide.get(0).clientHeight)),this.trigger("onUpdate",slide,e)},centerSlide:function(duration){var self=this,current=self.current,$slide=current.$slide;!self.isClosing&&current&&($slide.siblings().css({transform:"",opacity:""}),$slide.parent().children().removeClass("ccs-fancybox-slide--previous ccs-fancybox-slide--next"),$.fancybox.animate($slide,{top:0,left:0,opacity:1},void 0===duration?0:duration,function(){$slide.css({transform:"",opacity:""}),current.isComplete||self.complete()},!1))},isMoved:function(slide){var slidePos,stagePos,current=slide||this.current;return!!current&&(stagePos=$.fancybox.getTranslate(this.$refs.stage),slidePos=$.fancybox.getTranslate(current.$slide),!current.$slide.hasClass("ccs-fancybox-animated")&&(.5<Math.abs(slidePos.top-stagePos.top)||.5<Math.abs(slidePos.left-stagePos.left)))},updateCursor:function(nextWidth,nextHeight){var canPan,isZoomable,current=this.current,$container=this.$refs.container;current&&!this.isClosing&&this.Guestures&&($container.removeClass("ccs-fancybox-is-zoomable ccs-fancybox-can-zoomIn ccs-fancybox-can-zoomOut ccs-fancybox-can-swipe ccs-fancybox-can-pan"),isZoomable=!!(canPan=this.canPan(nextWidth,nextHeight))||this.isZoomable(),$container.toggleClass("ccs-fancybox-is-zoomable",isZoomable),$("[data-ccs-fancybox-zoom]").prop("disabled",!isZoomable),canPan?$container.addClass("ccs-fancybox-can-pan"):isZoomable&&("zoom"===current.opts.clickContent||$.isFunction(current.opts.clickContent)&&"zoom"==current.opts.clickContent(current))?$container.addClass("ccs-fancybox-can-zoomIn"):current.opts.touch&&(current.opts.touch.vertical||1<this.group.length)&&"video"!==current.contentType&&$container.addClass("ccs-fancybox-can-swipe"))},isZoomable:function(){var fitPos,current=this.current;if(current&&!this.isClosing&&"image"===current.type&&!current.hasError){if(!current.isLoaded)return!0;if((fitPos=this.getFitPos(current))&&(current.width>fitPos.width||current.height>fitPos.height))return!0}return!1},isScaledDown:function(nextWidth,nextHeight){var rez=!1,current=this.current,$content=current.$content;return void 0!==nextWidth&&void 0!==nextHeight?rez=nextWidth<current.width&&nextHeight<current.height:$content&&(rez=(rez=$.fancybox.getTranslate($content)).width<current.width&&rez.height<current.height),rez},canPan:function(nextWidth,nextHeight){var current=this.current,pos=null,rez=!1;return"image"===current.type&&(current.isComplete||nextWidth&&nextHeight)&&!current.hasError&&(rez=this.getFitPos(current),void 0!==nextWidth&&void 0!==nextHeight?pos={width:nextWidth,height:nextHeight}:current.isComplete&&(pos=$.fancybox.getTranslate(current.$content)),pos&&rez&&(rez=1.5<Math.abs(pos.width-rez.width)||1.5<Math.abs(pos.height-rez.height))),rez},loadSlide:function(slide){var type,$slide,ajaxLoad,self=this;if(!slide.isLoading&&!slide.isLoaded){if(!(slide.isLoading=!0)===self.trigger("beforeLoad",slide))return slide.isLoading=!1;switch(type=slide.type,($slide=slide.$slide).off("refresh").trigger("onReset").addClass(slide.opts.slideClass),type){case"image":self.setImage(slide);break;case"iframe":self.setIframe(slide);break;case"html":self.setContent(slide,slide.src||slide.content);break;case"video":self.setContent(slide,slide.opts.video.tpl.replace(/\{\{src\}\}/gi,slide.src).replace("{{format}}",slide.opts.videoFormat||slide.opts.video.format||"").replace("{{poster}}",slide.thumb||""));break;case"inline":$(slide.src).length?self.setContent(slide,$(slide.src)):self.setError(slide);break;case"ajax":self.showLoading(slide),ajaxLoad=$.ajax($.extend({},slide.opts.ajax.settings,{url:slide.src,success:function(data,textStatus){"success"===textStatus&&self.setContent(slide,data)},error:function(jqXHR,textStatus){jqXHR&&"abort"!==textStatus&&self.setError(slide)}})),$slide.one("onReset",function(){ajaxLoad.abort()});break;default:self.setError(slide)}return!0}},setImage:function(slide){var ghost,self=this;setTimeout(function(){var $img=slide.$image;self.isClosing||!slide.isLoading||$img&&$img.length&&$img[0].complete||slide.hasError||self.showLoading(slide)},50),self.checkSrcset(slide),slide.$content=$('<div class="ccs-fancybox-content"></div>').addClass("ccs-fancybox-is-hidden").appendTo(slide.$slide.addClass("ccs-fancybox-slide--image")),!1!==slide.opts.preload&&slide.opts.width&&slide.opts.height&&slide.thumb&&(slide.width=slide.opts.width,slide.height=slide.opts.height,(ghost=document.createElement("img")).onerror=function(){$(this).remove(),slide.$ghost=null},ghost.onload=function(){self.afterLoad(slide)},slide.$ghost=$(ghost).addClass("ccs-fancybox-image").appendTo(slide.$content).attr("src",slide.thumb)),self.setBigImage(slide)},checkSrcset:function(slide){var found,temp,pxRatio,windowWidth,srcset=slide.opts.srcset||slide.opts.image.srcset;if(srcset){pxRatio=window.devicePixelRatio||1,windowWidth=window.innerWidth*pxRatio,(temp=srcset.split(",").map(function(el){var ret={};return el.trim().split(/\s+/).forEach(function(el,i){var value=parseInt(el.substring(0,el.length-1),10);if(0===i)return ret.url=el;value&&(ret.value=value,ret.postfix=el[el.length-1])}),ret})).sort(function(a,b){return a.value-b.value});for(var j=0;j<temp.length;j++){var el=temp[j];if("w"===el.postfix&&el.value>=windowWidth||"x"===el.postfix&&el.value>=pxRatio){found=el;break}}!found&&temp.length&&(found=temp[temp.length-1]),found&&(slide.src=found.url,slide.width&&slide.height&&"w"==found.postfix&&(slide.height=slide.width/slide.height*found.value,slide.width=found.value),slide.opts.srcset=srcset)}},setBigImage:function(slide){var self=this,img=document.createElement("img"),$img=$(img);slide.$image=$img.one("error",function(){self.setError(slide)}).one("load",function(){var sizes;slide.$ghost||(self.resolveImageSlideSize(slide,this.naturalWidth,this.naturalHeight),self.afterLoad(slide)),self.isClosing||(slide.opts.srcset&&((sizes=slide.opts.sizes)&&"auto"!==sizes||(sizes=(1<slide.width/slide.height&&1<$W.width()/$W.height()?"100":Math.round(slide.width/slide.height*100))+"vw"),$img.attr("sizes",sizes).attr("srcset",slide.opts.srcset)),slide.$ghost&&setTimeout(function(){slide.$ghost&&!self.isClosing&&slide.$ghost.hide()},Math.min(300,Math.max(1e3,slide.height/1600))),self.hideLoading(slide))}).addClass("ccs-fancybox-image").attr("src",slide.src).appendTo(slide.$content),(img.complete||"complete"==img.readyState)&&$img.naturalWidth&&$img.naturalHeight?$img.trigger("load"):img.error&&$img.trigger("error")},resolveImageSlideSize:function(slide,imgWidth,imgHeight){var maxWidth=parseInt(slide.opts.width,10),maxHeight=parseInt(slide.opts.height,10);slide.width=imgWidth,slide.height=imgHeight,0<maxWidth&&(slide.width=maxWidth,slide.height=Math.floor(maxWidth*imgHeight/imgWidth)),0<maxHeight&&(slide.width=Math.floor(maxHeight*imgWidth/imgHeight),slide.height=maxHeight)},setIframe:function(slide){var $iframe,self=this,opts=slide.opts.iframe,$slide=slide.$slide;slide.$content=$('<div class="ccs-fancybox-content'+(opts.preload?" ccs-fancybox-is-hidden":"")+'"></div>').css(opts.css).appendTo($slide),$slide.addClass("ccs-fancybox-slide--"+slide.contentType),slide.$iframe=$iframe=$(opts.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(opts.attr).appendTo(slide.$content),opts.preload?(self.showLoading(slide),$iframe.on("load.ccs-fb error.ccs-fb",function(e){this.isReady=1,slide.$slide.trigger("refresh"),self.afterLoad(slide)}),$slide.on("refresh.ccs-fb",function(){var $body,$content=slide.$content,frameWidth=opts.css.width,frameHeight=opts.css.height;if(1===$iframe[0].isReady){try{$body=$iframe.contents().find("body")}catch(ignore){}$body&&$body.length&&$body.children().length&&($slide.css("overflow","visible"),$content.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===frameWidth&&(frameWidth=Math.ceil(Math.max($body[0].clientWidth,$body.outerWidth(!0)))),$content.css("width",frameWidth||"").css("max-width",""),void 0===frameHeight&&(frameHeight=Math.ceil(Math.max($body[0].clientHeight,$body.outerHeight(!0)))),$content.css("height",frameHeight||""),$slide.css("overflow","auto")),$content.removeClass("ccs-fancybox-is-hidden")}})):self.afterLoad(slide),$iframe.attr("src",slide.src),$slide.one("onReset",function(){try{$(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(ignore){}$(this).off("refresh.ccs-fb").empty(),slide.isLoaded=!1,slide.isRevealed=!1})},setContent:function(slide,content){this.isClosing||(this.hideLoading(slide),slide.$content&&$.fancybox.stop(slide.$content),slide.$slide.empty(),function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $}(content)&&content.parent().length?((content.hasClass("ccs-fancybox-content")||content.parent().hasClass("ccs-fancybox-content"))&&content.parents(".ccs-fancybox-slide").trigger("onReset"),slide.$placeholder=$("<div>").hide().insertAfter(content),content.css("display","inline-block")):slide.hasError||("string"===$.type(content)&&(content=$("<div>").append($.trim(content)).contents()),slide.opts.filter&&(content=$("<div>").html(content).find(slide.opts.filter))),slide.$slide.one("onReset",function(){$(this).find("video,audio").trigger("pause"),slide.$placeholder&&(slide.$placeholder.after(content.removeClass("ccs-fancybox-content").hide()).remove(),slide.$placeholder=null),slide.$smallBtn&&(slide.$smallBtn.remove(),slide.$smallBtn=null),slide.hasError||($(this).empty(),slide.isLoaded=!1,slide.isRevealed=!1)}),$(content).appendTo(slide.$slide),$(content).is("video,audio")&&($(content).addClass("ccs-fancybox-video"),$(content).wrap("<div></div>"),slide.contentType="video",slide.opts.width=slide.opts.width||$(content).attr("width"),slide.opts.height=slide.opts.height||$(content).attr("height")),slide.$content=slide.$slide.children().filter("div,form,main,video,audio,article,.ccs-fancybox-content").first(),slide.$content.siblings().hide(),slide.$content.length||(slide.$content=slide.$slide.wrapInner("<div></div>").children().first()),slide.$content.addClass("ccs-fancybox-content"),slide.$slide.addClass("ccs-fancybox-slide--"+slide.contentType),this.afterLoad(slide))},setError:function(slide){slide.hasError=!0,slide.$slide.trigger("onReset").removeClass("ccs-fancybox-slide--"+slide.contentType).addClass("ccs-fancybox-slide--error"),slide.contentType="html",this.setContent(slide,this.translate(slide,slide.opts.errorTpl)),slide.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(slide){(slide=slide||this.current)&&!slide.$spinner&&(slide.$spinner=$(this.translate(this,this.opts.spinnerTpl)).appendTo(slide.$slide).hide().fadeIn("fast"))},hideLoading:function(slide){(slide=slide||this.current)&&slide.$spinner&&(slide.$spinner.stop().remove(),delete slide.$spinner)},afterLoad:function(slide){this.isClosing||(slide.isLoading=!1,slide.isLoaded=!0,this.trigger("afterLoad",slide),this.hideLoading(slide),!slide.opts.smallBtn||slide.$smallBtn&&slide.$smallBtn.length||(slide.$smallBtn=$(this.translate(slide,slide.opts.btnTpl.smallBtn)).appendTo(slide.$content)),slide.opts.protect&&slide.$content&&!slide.hasError&&(slide.$content.on("contextmenu.ccs-fb",function(e){return 2==e.button&&e.preventDefault(),!0}),"image"===slide.type&&$('<div class="ccs-fancybox-spaceball"></div>').appendTo(slide.$content)),this.adjustCaption(slide),this.adjustLayout(slide),slide.pos===this.currPos&&this.updateCursor(),this.revealContent(slide))},adjustCaption:function(slide){var $clone,current=slide||this.current,caption=current.opts.caption,preventOverlap=current.opts.preventCaptionOverlap,$caption=this.$refs.caption,captionH=!1;$caption.toggleClass("ccs-fancybox-caption--separate",preventOverlap),preventOverlap&&caption&&caption.length&&(current.pos!==this.currPos?(($clone=$caption.clone().appendTo($caption.parent())).children().eq(0).empty().html(caption),captionH=$clone.outerHeight(!0),$clone.empty().remove()):this.$caption&&(captionH=this.$caption.outerHeight(!0)),current.$slide.css("padding-bottom",captionH||""))},adjustLayout:function(slide){var scrollHeight,marginBottom,inlinePadding,actualPadding,current=slide||this.current;current.isLoaded&&!0!==current.opts.disableLayoutFix&&(current.$content.css("margin-bottom",""),current.$content.outerHeight()>current.$slide.height()+.5&&(inlinePadding=current.$slide[0].style["padding-bottom"],actualPadding=current.$slide.css("padding-bottom"),0<parseFloat(actualPadding)&&(scrollHeight=current.$slide[0].scrollHeight,current.$slide.css("padding-bottom",0),Math.abs(scrollHeight-current.$slide[0].scrollHeight)<1&&(marginBottom=actualPadding),current.$slide.css("padding-bottom",inlinePadding))),current.$content.css("margin-bottom",marginBottom))},revealContent:function(slide){var effect,effectClassName,duration,opacity,self=this,$slide=slide.$slide,end=!1,start=!1,isMoved=self.isMoved(slide),isRevealed=slide.isRevealed;return slide.isRevealed=!0,effect=slide.opts[self.firstRun?"animationEffect":"transitionEffect"],duration=slide.opts[self.firstRun?"animationDuration":"transitionDuration"],duration=parseInt(void 0===slide.forcedDuration?duration:slide.forcedDuration,10),!isMoved&&slide.pos===self.currPos&&duration||(effect=!1),"zoom"===effect&&(slide.pos===self.currPos&&duration&&"image"===slide.type&&!slide.hasError&&(start=self.getThumbPos(slide))?end=self.getFitPos(slide):effect="fade"),"zoom"===effect?(self.isAnimating=!0,end.scaleX=end.width/start.width,end.scaleY=end.height/start.height,"auto"==(opacity=slide.opts.zoomOpacity)&&(opacity=.1<Math.abs(slide.width/slide.height-start.width/start.height)),opacity&&(start.opacity=.1,end.opacity=1),$.fancybox.setTranslate(slide.$content.removeClass("ccs-fancybox-is-hidden"),start),forceRedraw(slide.$content),void $.fancybox.animate(slide.$content,end,duration,function(){self.isAnimating=!1,self.complete()})):(self.updateSlide(slide),effect?($.fancybox.stop($slide),effectClassName="ccs-fancybox-slide--"+(slide.pos>=self.prevPos?"next":"previous")+" ccs-fancybox-animated ccs-fancybox-fx-"+effect,$slide.addClass(effectClassName).removeClass("ccs-fancybox-slide--current"),slide.$content.removeClass("ccs-fancybox-is-hidden"),forceRedraw($slide),"image"!==slide.type&&slide.$content.hide().show(0),void $.fancybox.animate($slide,"ccs-fancybox-slide--current",duration,function(){$slide.removeClass(effectClassName).css({transform:"",opacity:""}),slide.pos===self.currPos&&self.complete()},!0)):(slide.$content.removeClass("ccs-fancybox-is-hidden"),isRevealed||!isMoved||"image"!==slide.type||slide.hasError||slide.$content.hide().fadeIn("fast"),void(slide.pos===self.currPos&&self.complete())))},getThumbPos:function(slide){var rez,thumbPos,btw,brw,bbw,blw,$thumb=slide.$thumb;return!(!$thumb||!function(elem){var elemCenter,rez;return!(!elem||elem.ownerDocument!==document)&&($(".ccs-fancybox-container").css("pointer-events","none"),elemCenter={x:elem.getBoundingClientRect().left+elem.offsetWidth/2,y:elem.getBoundingClientRect().top+elem.offsetHeight/2},rez=document.elementFromPoint(elemCenter.x,elemCenter.y)===elem,$(".ccs-fancybox-container").css("pointer-events",""),rez)}($thumb[0]))&&(thumbPos=$.fancybox.getTranslate($thumb),btw=parseFloat($thumb.css("border-top-width")||0),brw=parseFloat($thumb.css("border-right-width")||0),bbw=parseFloat($thumb.css("border-bottom-width")||0),blw=parseFloat($thumb.css("border-left-width")||0),rez={top:thumbPos.top+btw,left:thumbPos.left+blw,width:thumbPos.width-brw-blw,height:thumbPos.height-btw-bbw,scaleX:1,scaleY:1},0<thumbPos.width&&0<thumbPos.height&&rez)},complete:function(){var $el,self=this,current=self.current,slides={};!self.isMoved()&&current.isLoaded&&(current.isComplete||(current.isComplete=!0,current.$slide.siblings().trigger("onReset"),self.preload("inline"),forceRedraw(current.$slide),current.$slide.addClass("ccs-fancybox-slide--complete"),$.each(self.slides,function(key,slide){slide.pos>=self.currPos-1&&slide.pos<=self.currPos+1?slides[slide.pos]=slide:slide&&($.fancybox.stop(slide.$slide),slide.$slide.off().remove())}),self.slides=slides),self.isAnimating=!1,self.updateCursor(),self.trigger("afterShow"),current.opts.autoFocus&&"html"===current.contentType&&(($el=current.$content.find("input[autofocus]:enabled:visible:first")).length?$el.trigger("focus"):self.focus(null,!0)),current.$slide.scrollTop(0).scrollLeft(0))},preload:function(type){var prev,next;this.group.length<2||(next=this.slides[this.currPos+1],(prev=this.slides[this.currPos-1])&&prev.type===type&&this.loadSlide(prev),next&&next.type===type&&this.loadSlide(next))},focus:function(e,firstRun){var focusableItems,focusedItemIndex,focusableStr=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");this.isClosing||((focusableItems=(focusableItems=!e&&this.current&&this.current.isComplete?this.current.$slide.find("*:visible"+(firstRun?":not(.ccs-fancybox-close-small)":"")):this.$refs.container.find("*:visible")).filter(focusableStr).filter(function(){return"hidden"!==$(this).css("visibility")&&!$(this).hasClass("disabled")})).length?(focusedItemIndex=focusableItems.index(document.activeElement),e&&e.shiftKey?(focusedItemIndex<0||0==focusedItemIndex)&&(e.preventDefault(),focusableItems.eq(focusableItems.length-1).trigger("focus")):(focusedItemIndex<0||focusedItemIndex==focusableItems.length-1)&&(e&&e.preventDefault(),focusableItems.eq(0).trigger("focus"))):this.$refs.container.trigger("focus"))},activate:function(){var self=this;$(".ccs-fancybox-container").each(function(){var instance=$(this).data("FancyBox");instance&&instance.id!==self.id&&!instance.isClosing&&(instance.trigger("onDeactivate"),instance.removeEvents(),instance.isVisible=!1)}),self.isVisible=!0,(self.current||self.isIdle)&&(self.update(),self.updateControls()),self.trigger("onActivate"),self.addEvents()},close:function(e,d){var effect,duration,$content,domRect,opacity,start,end,self=this,current=self.current,done=function(){self.cleanUp(e)};return!self.isClosing&&(!(self.isClosing=!0)===self.trigger("beforeClose",e)?(self.isClosing=!1,requestAFrame(function(){self.update()}),!1):(self.removeEvents(),$content=current.$content,effect=current.opts.animationEffect,duration=$.isNumeric(d)?d:effect?current.opts.animationDuration:0,current.$slide.removeClass("ccs-fancybox-slide--complete ccs-fancybox-slide--next ccs-fancybox-slide--previous ccs-fancybox-animated"),!0!==e?$.fancybox.stop(current.$slide):effect=!1,current.$slide.siblings().trigger("onReset").remove(),duration&&self.$refs.container.removeClass("ccs-fancybox-is-open").addClass("ccs-fancybox-is-closing").css("transition-duration",duration+"ms"),self.hideLoading(current),self.hideControls(!0),self.updateCursor(),"zoom"!==effect||$content&&duration&&"image"===current.type&&!self.isMoved()&&!current.hasError&&(end=self.getThumbPos(current))||(effect="fade"),"zoom"===effect?($.fancybox.stop($content),start={top:(domRect=$.fancybox.getTranslate($content)).top,left:domRect.left,scaleX:domRect.width/end.width,scaleY:domRect.height/end.height,width:end.width,height:end.height},"auto"==(opacity=current.opts.zoomOpacity)&&(opacity=.1<Math.abs(current.width/current.height-end.width/end.height)),opacity&&(end.opacity=0),$.fancybox.setTranslate($content,start),forceRedraw($content),$.fancybox.animate($content,end,duration,done)):effect&&duration?$.fancybox.animate(current.$slide.addClass("ccs-fancybox-slide--previous").removeClass("ccs-fancybox-slide--current"),"ccs-fancybox-animated ccs-fancybox-fx-"+effect,duration,done):!0===e?setTimeout(done,duration):done(),!0))},cleanUp:function(e){var instance,x,y,$focus=this.current.opts.$orig;this.current.$slide.trigger("onReset"),this.$refs.container.empty().remove(),this.trigger("afterClose",e),this.current.opts.backFocus&&($focus&&$focus.length&&$focus.is(":visible")||($focus=this.$trigger),$focus&&$focus.length&&(x=window.scrollX,y=window.scrollY,$focus.trigger("focus"),$("html, body").scrollTop(y).scrollLeft(x))),this.current=null,(instance=$.fancybox.getInstance())?instance.activate():($("body").removeClass("ccs-fancybox-active compensate-for-scrollbar"),$("#ccs-fancybox-style-noscroll").remove())},trigger:function(name,slide){var rez,args=Array.prototype.slice.call(arguments,1),obj=slide&&slide.opts?slide:this.current;if(obj?args.unshift(obj):obj=this,args.unshift(this),$.isFunction(obj.opts[name])&&(rez=obj.opts[name].apply(obj,args)),!1===rez)return rez;"afterClose"!==name&&this.$refs?this.$refs.container.trigger(name+".ccs-fb",args):$D.trigger(name+".ccs-fb",args)},updateControls:function(){var current=this.current,index=current.index,$container=this.$refs.container,$caption=this.$refs.caption,caption=current.opts.caption;current.$slide.trigger("refresh"),caption&&caption.length?(this.$caption=$caption).children().eq(0).html(caption):this.$caption=null,this.hasHiddenControls||this.isIdle||this.showControls(),$container.find("[data-ccs-fancybox-count]").html(this.group.length),$container.find("[data-ccs-fancybox-index]").html(index+1),$container.find("[data-ccs-fancybox-prev]").prop("disabled",!current.opts.loop&&index<=0),$container.find("[data-ccs-fancybox-next]").prop("disabled",!current.opts.loop&&index>=this.group.length-1),"image"===current.type?$container.find("[data-ccs-fancybox-zoom]").show().end().find("[data-ccs-fancybox-download]").attr("href",current.opts.image.src||current.src).show():current.opts.toolbar&&$container.find("[data-ccs-fancybox-download],[data-ccs-fancybox-zoom]").hide(),$(document.activeElement).is(":hidden,[disabled]")&&this.$refs.container.trigger("focus")},hideControls:function(andCaption){var arr=["infobar","toolbar","nav"];!andCaption&&this.current.opts.preventCaptionOverlap||arr.push("caption"),this.$refs.container.removeClass(arr.map(function(i){return"ccs-fancybox-show-"+i}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var opts=this.current?this.current.opts:this.opts,$container=this.$refs.container;this.hasHiddenControls=!1,this.idleSecondsCounter=0,$container.toggleClass("ccs-fancybox-show-toolbar",!(!opts.toolbar||!opts.buttons)).toggleClass("ccs-fancybox-show-infobar",!!(opts.infobar&&1<this.group.length)).toggleClass("ccs-fancybox-show-caption",!!this.$caption).toggleClass("ccs-fancybox-show-nav",!!(opts.arrows&&1<this.group.length)).toggleClass("ccs-fancybox-is-modal",!!opts.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),$.fancybox={version:"3.5.7",defaults:defaults,getInstance:function(command){var instance=$('.ccs-fancybox-container:not(".ccs-fancybox-is-closing"):last').data("FancyBox"),args=Array.prototype.slice.call(arguments,1);return instance instanceof FancyBox&&("string"===$.type(command)?instance[command].apply(instance,args):"function"===$.type(command)&&command.apply(instance,args),instance)},open:function(items,opts,index){return new FancyBox(items,opts,index)},close:function(all){var instance=this.getInstance();instance&&(instance.close(),!0===all&&this.close(all))},destroy:function(){this.close(!0),$D.add("body").off("click.ccs-fb-start","**")},isMobile:void 0!==document.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(div=document.createElement("div"),window.getComputedStyle&&window.getComputedStyle(div)&&window.getComputedStyle(div).getPropertyValue("transform")&&!(document.documentMode&&document.documentMode<11)),getTranslate:function($el){var domRect;return!(!$el||!$el.length)&&{top:(domRect=$el[0].getBoundingClientRect()).top||0,left:domRect.left||0,width:domRect.width,height:domRect.height,opacity:parseFloat($el.css("opacity"))}},setTranslate:function($el,props){var str="",css={};if($el&&props)return void 0===props.left&&void 0===props.top||(str=(void 0===props.left?$el.position().left:props.left)+"px, "+(void 0===props.top?$el.position().top:props.top)+"px",str=this.use3d?"translate3d("+str+", 0px)":"translate("+str+")"),void 0!==props.scaleX&&void 0!==props.scaleY?str+=" scale("+props.scaleX+", "+props.scaleY+")":void 0!==props.scaleX&&(str+=" scaleX("+props.scaleX+")"),str.length&&(css.transform=str),void 0!==props.opacity&&(css.opacity=props.opacity),void 0!==props.width&&(css.width=props.width),void 0!==props.height&&(css.height=props.height),$el.css(css)},animate:function($el,to,duration,callback,leaveAnimationName){var from,self=this;$.isFunction(duration)&&(callback=duration,duration=null),self.stop($el),from=self.getTranslate($el),$el.on(transitionEnd,function(e){(!e||!e.originalEvent||$el.is(e.originalEvent.target)&&"z-index"!=e.originalEvent.propertyName)&&(self.stop($el),$.isNumeric(duration)&&$el.css("transition-duration",""),$.isPlainObject(to)?void 0!==to.scaleX&&void 0!==to.scaleY&&self.setTranslate($el,{top:to.top,left:to.left,width:from.width*to.scaleX,height:from.height*to.scaleY,scaleX:1,scaleY:1}):!0!==leaveAnimationName&&$el.removeClass(to),$.isFunction(callback)&&callback(e))}),$.isNumeric(duration)&&$el.css("transition-duration",duration+"ms"),$.isPlainObject(to)?(void 0!==to.scaleX&&void 0!==to.scaleY&&(delete to.width,delete to.height,$el.parent().hasClass("ccs-fancybox-slide--image")&&$el.parent().addClass("ccs-fancybox-is-scaling")),$.fancybox.setTranslate($el,to)):$el.addClass(to),$el.data("timer",setTimeout(function(){$el.trigger(transitionEnd)},duration+33))},stop:function($el,callCallback){$el&&$el.length&&(clearTimeout($el.data("timer")),callCallback&&$el.trigger(transitionEnd),$el.off(transitionEnd).css("transition-duration",""),$el.parent().removeClass("ccs-fancybox-is-scaling"))}},$.fn.fancybox=function(options){var selector;return(selector=(options=options||{}).selector||!1)?$("body").off("click.ccs-fb-start",selector).on("click.ccs-fb-start",selector,{options:options},_run):this.off("click.ccs-fb-start").on("click.ccs-fb-start",{items:this,options:options},_run),this},$D.on("click.ccs-fb-start","[data-ccs-fancybox]",_run),$D.on("click.ccs-fb-start","[data-ccs-fancybox-trigger]",function(e){$('[data-ccs-fancybox="'+$(this).attr("data-ccs-fancybox-trigger")+'"]').eq($(this).attr("data-ccs-fancybox-index")||0).trigger("click.ccs-fb-start",{$trigger:$(this)})}),buttonStr=".ccs-fancybox-button",focusStr="ccs-fancybox-focus",$pressed=null,$D.on("mousedown mouseup focus blur",buttonStr,function(e){switch(e.type){case"mousedown":$pressed=$(this);break;case"mouseup":$pressed=null;break;case"focusin":$(buttonStr).removeClass(focusStr),$(this).is($pressed)||$(this).is("[disabled]")||$(this).addClass(focusStr);break;case"focusout":$(buttonStr).removeClass(focusStr)}})}function _run(e,opts){var $target,value,instance,items=[],index=0;e&&e.isDefaultPrevented()||(e.preventDefault(),opts=opts||{},e&&e.data&&(opts=mergeOpts(e.data.options,opts)),$target=opts.$target||$(e.currentTarget).trigger("blur"),(instance=$.fancybox.getInstance())&&instance.$trigger&&instance.$trigger.is($target)||(items=opts.selector?$(opts.selector):(value=$target.attr("data-ccs-fancybox")||"")?(items=e.data?e.data.items:[]).length?items.filter('[data-ccs-fancybox="'+value+'"]'):$('[data-ccs-fancybox="'+value+'"]'):[$target],(index=$(items).index($target))<0&&(index=0),(instance=$.fancybox.open(items,opts,index)).$trigger=$target))}}(window,document,ccsJq),function(window,document,$){"use strict";var requestAFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)},cancelAFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)},getPointerXY=function(e){var result=[];for(var key in e=(e=e.originalEvent||e||window.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[key].pageX?result.push({x:e[key].pageX,y:e[key].pageY}):e[key].clientX&&result.push({x:e[key].clientX,y:e[key].clientY});return result},distance=function(point2,point1,what){return point1&&point2?"x"===what?point2.x-point1.x:"y"===what?point2.y-point1.y:Math.sqrt(Math.pow(point2.x-point1.x,2)+Math.pow(point2.y-point1.y,2)):0},isClickable=function($el){if($el.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||$.isFunction($el.get(0).onclick)||$el.data("selectable"))return!0;for(var i=0,atts=$el[0].attributes,n=atts.length;i<n;i++)if("data-ccs-fancybox-"===atts[i].nodeName.substr(0,14))return!0;return!1},isScrollable=function($el){for(var el,overflowY,overflowX,vertical,horizontal,rez=!1;el=$el.get(0),void 0,overflowY=window.getComputedStyle(el)["overflow-y"],overflowX=window.getComputedStyle(el)["overflow-x"],vertical=("scroll"===overflowY||"auto"===overflowY)&&el.scrollHeight>el.clientHeight,horizontal=("scroll"===overflowX||"auto"===overflowX)&&el.scrollWidth>el.clientWidth,!(rez=vertical||horizontal)&&($el=$el.parent()).length&&!$el.hasClass("ccs-fancybox-stage")&&!$el.is("body"););return rez},Guestures=function(instance){this.instance=instance,this.$bg=instance.$refs.bg,this.$stage=instance.$refs.stage,this.$container=instance.$refs.container,this.destroy(),this.$container.on("touchstart.ccs-fb.touch mousedown.ccs-fb.touch",$.proxy(this,"ontouchstart"))};Guestures.prototype.destroy=function(){this.$container.off(".ccs-fb.touch"),$(document).off(".ccs-fb.touch"),this.requestId&&(cancelAFrame(this.requestId),this.requestId=null),this.tapped&&(clearTimeout(this.tapped),this.tapped=null)},Guestures.prototype.ontouchstart=function(e){var $target=$(e.target),instance=this.instance,current=instance.current,$slide=current.$slide,$content=current.$content,isTouchDevice="touchstart"==e.type;if(isTouchDevice&&this.$container.off("mousedown.ccs-fb.touch"),(!e.originalEvent||2!=e.originalEvent.button)&&$slide.length&&$target.length&&!isClickable($target)&&!isClickable($target.parent())&&($target.is("img")||!(e.originalEvent.clientX>$target[0].clientWidth+$target.offset().left))){if(!current||instance.isAnimating||current.$slide.hasClass("ccs-fancybox-animated"))return e.stopPropagation(),void e.preventDefault();this.realPoints=this.startPoints=getPointerXY(e),this.startPoints.length&&(current.touch&&e.stopPropagation(),this.startEvent=e,this.canTap=!0,this.$target=$target,this.$content=$content,this.opts=current.opts.touch,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.isScrolling=!1,this.canPan=instance.canPan(),this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round($slide[0].clientWidth),this.canvasHeight=Math.round($slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=$.fancybox.getTranslate(this.$content)||{top:0,left:0},this.sliderStartPos=$.fancybox.getTranslate($slide),this.stagePos=$.fancybox.getTranslate(instance.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,$(document).off(".ccs-fb.touch").on(isTouchDevice?"touchend.ccs-fb.touch touchcancel.ccs-fb.touch":"mouseup.ccs-fb.touch mouseleave.ccs-fb.touch",$.proxy(this,"ontouchend")).on(isTouchDevice?"touchmove.ccs-fb.touch":"mousemove.ccs-fb.touch",$.proxy(this,"ontouchmove")),$.fancybox.isMobile&&document.addEventListener("scroll",this.onscroll,!0),((this.opts||this.canPan)&&($target.is(this.$stage)||this.$stage.find($target).length)||($target.is(".ccs-fancybox-image")&&e.preventDefault(),$.fancybox.isMobile&&$target.parents(".ccs-fancybox-caption").length))&&(this.isScrollable=isScrollable($target)||isScrollable($target.parent()),$.fancybox.isMobile&&this.isScrollable||e.preventDefault(),(1===this.startPoints.length||current.hasError)&&(this.canPan?($.fancybox.stop(this.$content),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("ccs-fancybox-is-grabbing")),2===this.startPoints.length&&"image"===current.type&&(current.isLoaded||current.$ghost)&&(this.canTap=!1,this.isSwiping=!1,this.isPanning=!1,this.isZooming=!0,$.fancybox.stop(this.$content),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-$(window).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-$(window).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=distance(this.startPoints[0],this.startPoints[1]))))}},Guestures.prototype.onscroll=function(e){this.isScrolling=!0,document.removeEventListener("scroll",this.onscroll,!0)},Guestures.prototype.ontouchmove=function(e){void 0===e.originalEvent.buttons||0!==e.originalEvent.buttons?this.isScrolling?this.canTap=!1:(this.newPoints=getPointerXY(e),(this.opts||this.canPan)&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||e.preventDefault(),this.distanceX=distance(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=distance(this.newPoints[0],this.startPoints[0],"y"),this.distance=distance(this.newPoints[0],this.startPoints[0]),0<this.distance&&(this.isSwiping?this.onSwipe(e):this.isPanning?this.onPan():this.isZooming&&this.onZoom()))):this.ontouchend(e)},Guestures.prototype.onSwipe=function(e){var angle,self=this,instance=self.instance,swiping=self.isSwiping,left=self.sliderStartPos.left||0;if(!0!==swiping)"x"==swiping&&(0<self.distanceX&&(self.instance.group.length<2||0===self.instance.current.index&&!self.instance.current.opts.loop)?left+=Math.pow(self.distanceX,.8):self.distanceX<0&&(self.instance.group.length<2||self.instance.current.index===self.instance.group.length-1&&!self.instance.current.opts.loop)?left-=Math.pow(-self.distanceX,.8):left+=self.distanceX),self.sliderLastPos={top:"x"==swiping?0:self.sliderStartPos.top+self.distanceY,left:left},self.requestId&&(cancelAFrame(self.requestId),self.requestId=null),self.requestId=requestAFrame(function(){self.sliderLastPos&&($.each(self.instance.slides,function(index,slide){var pos=slide.pos-self.instance.currPos;$.fancybox.setTranslate(slide.$slide,{top:self.sliderLastPos.top,left:self.sliderLastPos.left+pos*self.canvasWidth+pos*slide.opts.gutter})}),self.$container.addClass("ccs-fancybox-is-sliding"))});else if(10<Math.abs(self.distance)){if(self.canTap=!1,instance.group.length<2&&self.opts.vertical?self.isSwiping="y":instance.isDragging||!1===self.opts.vertical||"auto"===self.opts.vertical&&800<$(window).width()?self.isSwiping="x":(angle=Math.abs(180*Math.atan2(self.distanceY,self.distanceX)/Math.PI),self.isSwiping=45<angle&&angle<135?"y":"x"),"y"===self.isSwiping&&$.fancybox.isMobile&&self.isScrollable)return void(self.isScrolling=!0);instance.isDragging=self.isSwiping,self.startPoints=self.newPoints,$.each(instance.slides,function(index,slide){var slidePos,stagePos;$.fancybox.stop(slide.$slide),slidePos=$.fancybox.getTranslate(slide.$slide),stagePos=$.fancybox.getTranslate(instance.$refs.stage),slide.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("ccs-fancybox-animated").removeClass(function(index,className){return(className.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),slide.pos===instance.current.pos&&(self.sliderStartPos.top=slidePos.top-stagePos.top,self.sliderStartPos.left=slidePos.left-stagePos.left),$.fancybox.setTranslate(slide.$slide,{top:slidePos.top-stagePos.top,left:slidePos.left-stagePos.left})}),instance.SlideShow&&instance.SlideShow.isActive&&instance.SlideShow.stop()}},Guestures.prototype.onPan=function(){var self=this;distance(self.newPoints[0],self.realPoints[0])<($.fancybox.isMobile?10:5)?self.startPoints=self.newPoints:(self.canTap=!1,self.contentLastPos=self.limitMovement(),self.requestId&&cancelAFrame(self.requestId),self.requestId=requestAFrame(function(){$.fancybox.setTranslate(self.$content,self.contentLastPos)}))},Guestures.prototype.limitMovement=function(){var minTranslateX,minTranslateY,maxTranslateX,maxTranslateY,newOffsetX,newOffsetY,canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight,distanceX=this.distanceX,distanceY=this.distanceY,contentStartPos=this.contentStartPos,currentOffsetX=contentStartPos.left,currentOffsetY=contentStartPos.top,currentWidth=contentStartPos.width,currentHeight=contentStartPos.height;return newOffsetX=canvasWidth<currentWidth?currentOffsetX+distanceX:currentOffsetX,newOffsetY=currentOffsetY+distanceY,minTranslateX=Math.max(0,.5*canvasWidth-.5*currentWidth),minTranslateY=Math.max(0,.5*canvasHeight-.5*currentHeight),maxTranslateX=Math.min(canvasWidth-currentWidth,.5*canvasWidth-.5*currentWidth),maxTranslateY=Math.min(canvasHeight-currentHeight,.5*canvasHeight-.5*currentHeight),0<distanceX&&minTranslateX<newOffsetX&&(newOffsetX=minTranslateX-1+Math.pow(-minTranslateX+currentOffsetX+distanceX,.8)||0),distanceX<0&&newOffsetX<maxTranslateX&&(newOffsetX=maxTranslateX+1-Math.pow(maxTranslateX-currentOffsetX-distanceX,.8)||0),0<distanceY&&minTranslateY<newOffsetY&&(newOffsetY=minTranslateY-1+Math.pow(-minTranslateY+currentOffsetY+distanceY,.8)||0),distanceY<0&&newOffsetY<maxTranslateY&&(newOffsetY=maxTranslateY+1-Math.pow(maxTranslateY-currentOffsetY-distanceY,.8)||0),{top:newOffsetY,left:newOffsetX}},Guestures.prototype.limitPosition=function(newOffsetX,newOffsetY,newWidth,newHeight){var canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight;return newOffsetX=canvasWidth<newWidth?(newOffsetX=0<newOffsetX?0:newOffsetX)<canvasWidth-newWidth?canvasWidth-newWidth:newOffsetX:Math.max(0,canvasWidth/2-newWidth/2),{top:newOffsetY=canvasHeight<newHeight?(newOffsetY=0<newOffsetY?0:newOffsetY)<canvasHeight-newHeight?canvasHeight-newHeight:newOffsetY:Math.max(0,canvasHeight/2-newHeight/2),left:newOffsetX}},Guestures.prototype.onZoom=function(){var self=this,contentStartPos=self.contentStartPos,currentWidth=contentStartPos.width,currentHeight=contentStartPos.height,currentOffsetX=contentStartPos.left,currentOffsetY=contentStartPos.top,pinchRatio=distance(self.newPoints[0],self.newPoints[1])/self.startDistanceBetweenFingers,newWidth=Math.floor(currentWidth*pinchRatio),newHeight=Math.floor(currentHeight*pinchRatio),translateFromZoomingX=(currentWidth-newWidth)*self.percentageOfImageAtPinchPointX,translateFromZoomingY=(currentHeight-newHeight)*self.percentageOfImageAtPinchPointY,centerPointEndX=(self.newPoints[0].x+self.newPoints[1].x)/2-$(window).scrollLeft(),centerPointEndY=(self.newPoints[0].y+self.newPoints[1].y)/2-$(window).scrollTop(),translateFromTranslatingX=centerPointEndX-self.centerPointStartX,newPos={top:currentOffsetY+(translateFromZoomingY+(centerPointEndY-self.centerPointStartY)),left:currentOffsetX+(translateFromZoomingX+translateFromTranslatingX),scaleX:pinchRatio,scaleY:pinchRatio};self.canTap=!1,self.newWidth=newWidth,self.newHeight=newHeight,self.contentLastPos=newPos,self.requestId&&cancelAFrame(self.requestId),self.requestId=requestAFrame(function(){$.fancybox.setTranslate(self.$content,self.contentLastPos)})},Guestures.prototype.ontouchend=function(e){var swiping=this.isSwiping,panning=this.isPanning,zooming=this.isZooming,scrolling=this.isScrolling;if(this.endPoints=getPointerXY(e),this.dMs=Math.max((new Date).getTime()-this.startTime,1),this.$container.removeClass("ccs-fancybox-is-grabbing"),$(document).off(".ccs-fb.touch"),document.removeEventListener("scroll",this.onscroll,!0),this.requestId&&(cancelAFrame(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.isScrolling=!1,this.instance.isDragging=!1,this.canTap)return this.onTap(e);this.speed=100,this.velocityX=this.distanceX/this.dMs*.5,this.velocityY=this.distanceY/this.dMs*.5,panning?this.endPanning():zooming?this.endZooming():this.endSwiping(swiping,scrolling)},Guestures.prototype.endSwiping=function(swiping,scrolling){var ret=!1,len=this.instance.group.length,distanceX=Math.abs(this.distanceX),canAdvance="x"==swiping&&1<len&&(130<this.dMs&&10<distanceX||50<distanceX);this.sliderLastPos=null,"y"==swiping&&!scrolling&&50<Math.abs(this.distanceY)?($.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),ret=this.instance.close(!0,250)):canAdvance&&0<this.distanceX?ret=this.instance.previous(300):canAdvance&&this.distanceX<0&&(ret=this.instance.next(300)),!1!==ret||"x"!=swiping&&"y"!=swiping||this.instance.centerSlide(200),this.$container.removeClass("ccs-fancybox-is-sliding")},Guestures.prototype.endPanning=function(){var newOffsetX,newOffsetY,newPos;this.contentLastPos&&(newOffsetY=!1===this.opts.momentum||350<this.dMs?(newOffsetX=this.contentLastPos.left,this.contentLastPos.top):(newOffsetX=this.contentLastPos.left+500*this.velocityX,this.contentLastPos.top+500*this.velocityY),(newPos=this.limitPosition(newOffsetX,newOffsetY,this.contentStartPos.width,this.contentStartPos.height)).width=this.contentStartPos.width,newPos.height=this.contentStartPos.height,$.fancybox.animate(this.$content,newPos,366))},Guestures.prototype.endZooming=function(){var newOffsetX,newOffsetY,newPos,reset,current=this.instance.current,newWidth=this.newWidth,newHeight=this.newHeight;this.contentLastPos&&(newOffsetX=this.contentLastPos.left,reset={top:newOffsetY=this.contentLastPos.top,left:newOffsetX,width:newWidth,height:newHeight,scaleX:1,scaleY:1},$.fancybox.setTranslate(this.$content,reset),newWidth<this.canvasWidth&&newHeight<this.canvasHeight?this.instance.scaleToFit(150):newWidth>current.width||newHeight>current.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(newPos=this.limitPosition(newOffsetX,newOffsetY,newWidth,newHeight),$.fancybox.animate(this.$content,newPos,150)))},Guestures.prototype.onTap=function(e){var where,self=this,$target=$(e.target),instance=self.instance,current=instance.current,endPoints=e&&getPointerXY(e)||self.startPoints,tapX=endPoints[0]?endPoints[0].x-$(window).scrollLeft()-self.stagePos.left:0,tapY=endPoints[0]?endPoints[0].y-$(window).scrollTop()-self.stagePos.top:0,process=function(prefix){var action=current.opts[prefix];if($.isFunction(action)&&(action=action.apply(instance,[current,e])),action)switch(action){case"close":instance.close(self.startEvent);break;case"toggleControls":instance.toggleControls();break;case"next":instance.next();break;case"nextOrClose":1<instance.group.length?instance.next():instance.close(self.startEvent);break;case"zoom":"image"==current.type&&(current.isLoaded||current.$ghost)&&(instance.canPan()?instance.scaleToFit():instance.isScaledDown()?instance.scaleToActual(tapX,tapY):instance.group.length<2&&instance.close(self.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&($target.is("img")||!(tapX>$target[0].clientWidth+$target.offset().left))){if($target.is(".ccs-fancybox-bg,.ccs-fancybox-inner,.ccs-fancybox-outer,.ccs-fancybox-container"))where="Outside";else if($target.is(".ccs-fancybox-slide"))where="Slide";else{if(!instance.current.$content||!instance.current.$content.find($target).addBack().filter($target).length)return;where="Content"}if(self.tapped){if(clearTimeout(self.tapped),self.tapped=null,50<Math.abs(tapX-self.tapX)||50<Math.abs(tapY-self.tapY))return this;process("dblclick"+where)}else self.tapX=tapX,self.tapY=tapY,current.opts["dblclick"+where]&&current.opts["dblclick"+where]!==current.opts["click"+where]?self.tapped=setTimeout(function(){self.tapped=null,instance.isAnimating||process("click"+where)},500):process("click"+where);return this}},$(document).on("onActivate.ccs-fb",function(e,instance){instance&&!instance.Guestures&&(instance.Guestures=new Guestures(instance))}).on("beforeClose.ccs-fb",function(e,instance){instance&&instance.Guestures&&instance.Guestures.destroy()})}(window,document,ccsJq),function(document,$){"use strict";var CLASS="ccs-fancybox-thumbs";$.fancybox.defaults=$.extend(!0,{btnTpl:{thumbs:'<button data-ccs-fancybox-thumbs class="ccs-fancybox-button ccs-fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".ccs-fancybox-container",axis:"y"}},$.fancybox.defaults);var FancyThumbs=function(instance){this.init(instance)};$.extend(FancyThumbs.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(instance){var self=this,group=instance.group,enabled=0;self.instance=instance,self.opts=group[instance.currIndex].opts.thumbs,(instance.Thumbs=self).$button=instance.$refs.toolbar.find("[data-ccs-fancybox-thumbs]");for(var i=0,len=group.length;i<len&&(group[i].thumb&&enabled++,!(1<enabled));i++);1<enabled&&self.opts?(self.$button.removeAttr("style").on("click",function(){self.toggle()}),self.isActive=!0):self.$button.hide()},create:function(){var src,instance=this.instance,parentEl=this.opts.parentEl,list=[];this.$grid||(this.$grid=$('<div class="'+CLASS+" "+CLASS+"-"+this.opts.axis+'"></div>').appendTo(instance.$refs.container.find(parentEl).addBack().filter(parentEl)),this.$grid.on("click","a",function(){instance.jumpTo($(this).attr("data-index"))})),this.$list||(this.$list=$('<div class="'+CLASS+'__list">').appendTo(this.$grid)),$.each(instance.group,function(i,item){(src=item.thumb)||"image"!==item.type||(src=item.src),list.push('<a href="javascript:;" tabindex="0" data-index="'+i+'"'+(src&&src.length?' style="background-image:url('+encodeURI(src)+')"':'class="ccs-fancybox-thumbs-missing"')+"></a>")}),this.$list[0].innerHTML=list.join(""),"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+instance.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(duration){var thumb,thumbPos,$list=this.$list,$grid=this.$grid;this.instance.current&&(thumbPos=(thumb=$list.children().removeClass("ccs-fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("ccs-fancybox-thumbs-active")).position(),"y"===this.opts.axis&&(thumbPos.top<0||thumbPos.top>$list.height()-thumb.outerHeight())?$list.stop().animate({scrollTop:$list.scrollTop()+thumbPos.top},duration):"x"===this.opts.axis&&(thumbPos.left<$grid.scrollLeft()||thumbPos.left>$grid.scrollLeft()+($grid.width()-thumb.outerWidth()))&&$list.parent().stop().animate({scrollLeft:thumbPos.left},duration))},update:function(){this.instance.$refs.container.toggleClass("ccs-fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),$(document).on({"onInit.ccs-fb":function(e,instance){var Thumbs;"ccs-fb"===e.namespace&&("ccs-fb"===e.namespace&&instance&&!instance.Thumbs&&(Thumbs=new FancyThumbs(instance)).isActive&&!0===Thumbs.opts.autoStart&&Thumbs.show())},"beforeShow.ccs-fb":function(e,instance,item,firstRun){var Thumbs=instance&&instance.Thumbs;Thumbs&&Thumbs.isVisible&&Thumbs.focus(firstRun?0:250)},"afterKeydown.ccs-fb":function(e,instance,current,keypress,keycode){var Thumbs=instance&&instance.Thumbs;Thumbs&&Thumbs.isActive&&71===keycode&&(keypress.preventDefault(),Thumbs.toggle())},"beforeClose.ccs-fb":function(e,instance){var Thumbs=instance&&instance.Thumbs;Thumbs&&Thumbs.isVisible&&!1!==Thumbs.opts.hideOnClose&&Thumbs.$grid.hide()}})}(document,ccsJq),function(document,$){"use strict";var prevTime=(new Date).getTime();$(document).on({"onInit.ccs-fb":function(e,instance,current){instance&&"FancyBox"===instance.constructor.name&&instance.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var current=instance.current,currTime=(new Date).getTime();instance.group.length<2||!1===current.opts.wheel||"auto"===current.opts.wheel&&"image"!==current.type||(e.preventDefault(),e.stopPropagation(),current.$slide.hasClass("ccs-fancybox-animated")||(e=e.originalEvent||e,currTime-prevTime<250||(prevTime=currTime,instance[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]())))})}})}(document,ccsJq)});